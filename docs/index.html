<!DOCTYPE HTML><html><head><style>body {
        margin: 0px;
        padding: 0px;
      }</style></head><body><canvas id="myCanvas" width="578" height="200"></canvas><script>function Note(t){var e=t.split(space);this.frequency=Note.getFrequency(e[0])||0,this.duration=Note.getDuration(e[1])||0}function Sequence(t,e,n){this.ac=t||new AudioContext,this.createFxNodes(),this.tempo=e||120,this.loop=!0,this.smoothing=0,this.staccato=0,this.notes=[],this.push.apply(this,n||[])}var enharmonics="B#-C|C#-Db|D|D#-Eb|E-Fb|E#-F|F#-Gb|G|G#-Ab|A|A#-Bb|B-Cb",middleC=440*Math.pow(Math.pow(2,1/12),-9),numeric=/^[0-9.]+$/,octaveOffset=4,space=/\s+/,num=/(\d+)/,offsets={};enharmonics.split("|").forEach(function(t,e){t.split("-").forEach(function(t){offsets[t]=e})}),Note.getFrequency=function(t){var e=t.split(num),n=offsets[e[0]],i=(e[1]||octaveOffset)-octaveOffset,o=middleC*Math.pow(Math.pow(2,1/12),n);return o*Math.pow(2,i)},Note.getDuration=function(t){return numeric.test(t)?parseFloat(t):t.toLowerCase().split("").reduce(function(t,e){return t+("w"===e?4:"h"===e?2:"q"===e?1:"e"===e?.5:"s"===e?.25:0)},0)},Sequence.prototype.createFxNodes=function(){var t=[["bass",100],["mid",1e3],["treble",2500]],e=this.gain=this.ac.createGain();return t.forEach(function(t,n){n=this[t[0]]=this.ac.createBiquadFilter(),n.type="peaking",n.frequency.value=t[1],e.connect(e=n)}.bind(this)),e.connect(this.ac.destination),this},Sequence.prototype.push=function(){return Array.prototype.forEach.call(arguments,function(t){this.notes.push(t instanceof Note?t:new Note(t))}.bind(this)),this},Sequence.prototype.createCustomWave=function(t,e){e||(e=t),this.waveType="custom",this.customWave=[new Float32Array(t),new Float32Array(e)]},Sequence.prototype.createOscillator=function(){return this.stop(),this.osc=this.ac.createOscillator(),this.customWave?this.osc.setPeriodicWave(this.ac.createPeriodicWave.apply(this.ac,this.customWave)):this.osc.type=this.waveType||"square",this.osc.connect(this.gain),this},Sequence.prototype.scheduleNote=function(t,e){var n=60/this.tempo*this.notes[t].duration,i=n*(1-(this.staccato||0));return this.setFrequency(this.notes[t].frequency,e),this.smoothing&&this.notes[t].frequency&&this.slide(t,e,i),this.setFrequency(0,e+i),e+n},Sequence.prototype.getNextNote=function(t){return this.notes[t<this.notes.length-1?t+1:0]},Sequence.prototype.getSlideStartDelay=function(t){return t-Math.min(t,60/this.tempo*this.smoothing)},Sequence.prototype.slide=function(t,e,n){var i=this.getNextNote(t),o=this.getSlideStartDelay(n);return this.setFrequency(this.notes[t].frequency,e+o),this.rampFrequency(i.frequency,e+n),this},Sequence.prototype.setFrequency=function(t,e){return this.osc.frequency.setValueAtTime(t,e),this},Sequence.prototype.rampFrequency=function(t,e){return this.osc.frequency.linearRampToValueAtTime(t,e),this},Sequence.prototype.play=function(t){return t="number"==typeof t?t:this.ac.currentTime,this.createOscillator(),this.osc.start(t),this.notes.forEach(function(e,n){t=this.scheduleNote(n,t)}.bind(this)),this.osc.stop(t),this.osc.onended=this.loop?this.play.bind(this,t):null,this},Sequence.prototype.stop=function(){return this.osc&&(this.osc.onended=null,this.osc.disconnect(),this.osc=null),this},TinyMusic={},TinyMusic.Note=Note,TinyMusic.Sequence=Sequence;var canvas=document.getElementById("myCanvas"),context=canvas.getContext("2d"),centerX=canvas.width/2,centerY=canvas.height/2,radius=70;context.beginPath(),context.arc(centerX,centerY,radius,0,2*Math.PI,!1),context.fillStyle="green",context.fill(),context.lineWidth=5,context.strokeStyle="#003300",context.stroke();var playNotes=function(t){var e=new AudioContext,n=120,o=e.currentTime+.5;for(i=0;i<t.length;++i){var s=new TinyMusic.Sequence(e,n,t[i]);s.loop=!1,s.staccato=.5,s.waveType="sine",s.play(o+i/20)}},addHarmonics=function(t){var e=[];for(i=0;i<t.length;++i)e.push([t[i]]),oct=parseInt(t[i][1]);playNotes(e)};openGuitar=["E3 q","A3 q","D4 q","G4 q","B4 q","E5 q"],guitar=["E3 q","A#3 q","E4 q","A4 q","B4 q","E5 q"],guitar2=["E4 q","A4 q","D5 q","G5 q","B5 q","E6 q"],gfather=["B3 q","E4 q","G4 q","F# q","E4 q","G4 q","E4 q","F#4 q"],addHarmonics(guitar);var ac=new AudioContext,tempo=120,when=ac.currentTime+.5;sequence.loop=!1,sequence.waveType="sine",sequence.play(when);</script></body></html>