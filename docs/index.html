<!DOCTYPE HTML><html><head><meta charset="utf-8"><style>body {
        margin: 0px;
        padding: 0px;
      }</style></head><body><canvas id="mainCanvas" width="640" height="640"></canvas><script>function Note(e){var t=e.split(space);this.frequency=Note.getFrequency(t[0])||0,this.duration=Note.getDuration(t[1])||0}function Sequence(e,t,i){this.ac=e||new AudioContext,this.createFxNodes(),this.tempo=t||120,this.loop=!0,this.smoothing=0,this.staccato=0,this.notes=[],this.push.apply(this,i||[])}octave="B#-C|C#-Db|D|D#-Eb|E-Fb|E#-F|F#-Gb|G|G#-Ab|A|A#-Bb|B-Cb",openGuitar=["E2 q","A2 q","D3 q","G3 q","B3 q","E4 q"],eMaj=["E2 q","B2 q","E3 q","G#3 q","B3 q","E4 q"],eMin=["E2 q","B2 q","E3 q","G3 q","B3 q","E4 q"],fMaj=["E#2 q","B#3 q","E#3 q","A3 q","C4 q","F4 q"],fMin=["E#2 q","B#3 q","E#3 q","G#3 q","C4 q","F4 q"],aMin=["E2 q","A2 q","E3 q","A3 q","C q","E4 q"],aMin=["E2 q","A2 q","E3 q","A3 q","C4 q","E4 q"],cMaj=["G#2 q","C3 q","E3 q","G3 q","C4 q","E4 q"],dMaj=["E2 q","A2 q","D3 q","A3 q","D4 q","F#4 q"];var enharmonics="B#-C|C#-Db|D|D#-Eb|E-Fb|E#-F|F#-Gb|G|G#-Ab|A|A#-Bb|B-Cb",middleC=440*Math.pow(Math.pow(2,1/12),-9),numeric=/^[0-9.]+$/,octaveOffset=4,space=/\s+/,num=/(\d+)/,offsets={};enharmonics.split("|").forEach(function(e,t){e.split("-").forEach(function(e){offsets[e]=t})}),Note.getFrequency=function(e){var t=e.split(num),i=offsets[t[0]],n=(t[1]||octaveOffset)-octaveOffset,s=middleC*Math.pow(Math.pow(2,1/12),i);return s*Math.pow(2,n)},Note.getDuration=function(e){return numeric.test(e)?parseFloat(e):e.toLowerCase().split("").reduce(function(e,t){return e+("w"===t?4:"h"===t?2:"q"===t?1:"e"===t?.5:"s"===t?.25:0)},0)},Sequence.prototype.createFxNodes=function(){var e=[["bass",100],["mid",1e3],["treble",2500]],t=this.gain=this.ac.createGain();return e.forEach(function(e,i){i=this[e[0]]=this.ac.createBiquadFilter(),i.type="peaking",i.frequency.value=e[1],t.connect(t=i)}.bind(this)),t.connect(this.ac.destination),this},Sequence.prototype.push=function(){return Array.prototype.forEach.call(arguments,function(e){this.notes.push(e instanceof Note?e:new Note(e))}.bind(this)),this},Sequence.prototype.createCustomWave=function(e,t){t||(t=e),this.waveType="custom",this.customWave=[new Float32Array(e),new Float32Array(t)]},Sequence.prototype.createOscillator=function(){return this.stop(),this.osc=this.ac.createOscillator(),this.customWave?this.osc.setPeriodicWave(this.ac.createPeriodicWave.apply(this.ac,this.customWave)):this.osc.type=this.waveType||"square",this.osc.connect(this.gain),this},Sequence.prototype.scheduleNote=function(e,t){var i=60/this.tempo*this.notes[e].duration,n=i*(1-(this.staccato||0));return this.setFrequency(this.notes[e].frequency,t),this.smoothing&&this.notes[e].frequency&&this.slide(e,t,n),this.setFrequency(0,t+n),t+i},Sequence.prototype.getNextNote=function(e){return this.notes[e<this.notes.length-1?e+1:0]},Sequence.prototype.getSlideStartDelay=function(e){return e-Math.min(e,60/this.tempo*this.smoothing)},Sequence.prototype.slide=function(e,t,i){var n=this.getNextNote(e),s=this.getSlideStartDelay(i);return this.setFrequency(this.notes[e].frequency,t+s),this.rampFrequency(n.frequency,t+i),this},Sequence.prototype.setFrequency=function(e,t){return this.osc.frequency.setValueAtTime(e,t),this},Sequence.prototype.rampFrequency=function(e,t){return this.osc.frequency.linearRampToValueAtTime(e,t),this},Sequence.prototype.play=function(e){return e="number"==typeof e?e:this.ac.currentTime,this.createOscillator(),this.osc.start(e),this.notes.forEach(function(t,i){e=this.scheduleNote(i,e)}.bind(this)),this.osc.stop(e),this.osc.onended=this.loop?this.play.bind(this,e):null,this},Sequence.prototype.stop=function(){return this.osc&&(this.osc.onended=null,this.osc.disconnect(),this.osc=null),this},TinyMusic={},TinyMusic.Note=Note,TinyMusic.Sequence=Sequence,guitarScreen=function(){var e=document.getElementById("mainCanvas"),t=e.getContext("2d"),n=e.width/2,s=e.height/2,o=70;for(t.beginPath(),t.rect(0,0,2*n,2*s),t.fillStyle="grey",t.fill(),t.beginPath(),t.arc(n,s,1.3*o,0,2*Math.PI,!1),t.fillStyle="saddlebrown",t.fill(),t.lineWidth=5,t.strokeStyle="#003300",t.stroke(),t.beginPath(),t.arc(.6*n,1.4*s,2*o,0,2*Math.PI,!1),t.fillStyle="saddlebrown",t.fill(),t.lineWidth=5,t.strokeStyle="#003300",t.stroke(),t.beginPath(),t.arc(.6*n,1.4*s,.6*o,0,2*Math.PI,!1),t.fillStyle="black",t.fill(),t.lineWidth=5,t.strokeStyle="brown",t.stroke(),t.save(),t.translate(e.width/2,e.height/2),t.rotate(Math.PI/4),t.fillStyle="black",t.fillRect(-20,-300,40,500),i=0;i<35;++i)t.fillStyle=i%3?"white":"navy",t.fillRect(-18,-300+10*i,35,8);t.restore();var a=function(e,o){i=e,t.beginPath(),t.rect(.4*i*n,1.9*s,.4*n,.1*s),t.fillStyle=o||"white",t.strokeStyle="grey",t.fill(),t.stroke()};for(i=0;i<5;++i)a(i,"white");e.addEventListener("click",function(e){if(e.pageY>1.9*s){var t=Math.floor(e.pageX/(.4*n));a(t,"green")}})};var welcomeScreen=function(){var e=document.getElementById("mainCanvas"),t=e.getContext("2d"),i=e.width/2,n=e.height/2;t.font="48px Gill Sans Extrabold fantasy",t.fillText("Can you guess two songs...",.3*i,.3*n,1.4*i),setTimeout(function(){t.fillText("at once?",.3*i,.6*n,1.4*i)},1e3),setTimeout(function(){t.fillText("My buggytar is a little... well",.3*i,.8*n,1.4*i),t.fillText("buggy. Due to design flaw and",.3*i,1*n,1.4*i),t.fillText("80's technology imperfection,",.3*i,1.2*n,1.4*i),t.fillText("it plays two songs simultaneously.",.3*i,1.4*n,1.4*i),t.fillText("Can you guess all mixins?",.3*i,1.6*n,1.4*i)},2e3),setTimeout(function(){t.beginPath(),t.rect(.4*i,1.7*n,1.2*i,.25*n),t.fillStyle="beige",t.strokeStyle="grey",t.fill(),t.stroke(),t.fillStyle="black",t.fillText("START",.8*i,1.85*n),glob.stateMachine.statechanged("welcome_loaded")},2500),t.beginPath(),t.rect(0,0,2*i,2*n),t.strokeStyle="grey",t.stroke()};"undefined"==typeof glob&&(glob={}),glob.stateMachine={state:"",statechanged:function(e){switch(state=e,e){case"welcome_loaded":startButton()}}};var startButton=function(){var e=document.getElementById("mainCanvas"),t=e.width/2,i=e.height/2,n=function(s){s.pageY>1.7*i&&s.pageY<1.95*i&&s.pageX>.4*t&&s.pageX<1.6*t&&(e.removeEventListener("click",n),guitarScreen())};e.addEventListener("click",n)};ac=new AudioContext;var playNotes=function(e,t){var i=t||120,n=ac.currentTime+.5,s=new TinyMusic.Sequence(ac,i,e);s.loop=!1,s.staccato=.2,s.waveType="sawtooth",s.play(n)};openGuitar=["E2 q","A2 q","D3 q","G3 q","B3 q","E4 q"],gfather1=["B3 q","E4 q","G4 q","F#4 q","E4 q","G4 q","E4 q","F#4 q","E4 q","C4 q","D4 q","B3 q","- h"],gfather2=gfather1.slice(0,-4).concat(["B3 q","A#3 q","A3 q"]),house_rising1=aMin.slice(1,4).concat(aMin.slice(0).reverse().slice(0,3)),house_rising2=cMaj.slice(1,4).concat(aMin.slice(0).reverse().slice(0,3)),house_rising3=dMaj.slice(2,5).concat(dMaj.slice(0).reverse().slice(0,3)),house_rising4=fMaj.slice(0,1).concat(fMaj.slice(2,4),fMaj.slice(0).reverse().slice(0,3)),welcomeScreen();</script></body></html>